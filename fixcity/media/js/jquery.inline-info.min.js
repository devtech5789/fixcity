/**
 * Inline Info
 * A jQuery plugin allowing 'info' text to be placed dynamically for form inputs
 * (including password fields)
 * 
 * Version 0.8.2
 * Author: Chris Patterson
 *
 * License: GPL 3 http://www.gnu.org/licenses/gpl-3.0.html
 * 
 **/
(function($){$.fn.inlineInfoTextify=function(options){var defaults={inlineInfoClass:"overlabel",inlineInfoText:"",caseSensitiveMatch:false,blankFieldOnSubmitWhenDefault:true};options=$.extend(defaults,options);var removeLabel=function(target){(target.is('input'))?target.removeClass(options.inlineInfoClass).val(""):target.removeClass(options.inlineInfoClass).text("");};var addLabel=function(target,replaceWithText){(target.is('input'))?target.addClass(options.inlineInfoClass).val(replaceWithText):target.addClass(options.inlineInfoClass).text(replaceWithText);};var replaceField=function(target,replaceWithType,replaceWithText,replacementText){if((target.val()=="")||(options.caseSensitiveMatch===true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){var replacementField=document.createElement('input');replacementField.type=replaceWithType;if(target.attr('size')){replacementField.size=target.attr('size');}if(target.attr('value')){replacementField.value=replaceWithText;}if(target.attr('title')){replacementField.title=target.attr('title');}if(target.attr('maxlength')){replacementField.maxLength=target.attr('maxlength');}if(target.attr('name')){replacementField.name=target.attr('name');}if(target.attr('id')){replacementField.id=target.attr('id');}if(target.attr('class')){replacementField.className=target.attr('class');}replacementField.value=replaceWithText;if(replaceWithType=='text'){$(replacementField).addClass(options.inlineInfoClass).focus(function(event){replaceField($(this),'password','',replacementText);});target.replaceWith(replacementField);}else{$(replacementField).removeClass(options.inlineInfoClass).blur(function(event){replaceField($(this),'text',replacementText,replacementText);}).insertAfter(target).focus();target.remove();}}};var blankOnSubmit=function(target,defaultText){var form=target.parents('form:first');form.submit(function(e){if((options.caseSensitiveMatch===true&&target.val()==defaultText)||(target.val().toLowerCase()==defaultText.toLowerCase())){target.val('');}});};return this.each(function(){obj=$(this);var replacementText=(options.inlineInfoText=="")?((obj.attr('title'))?obj.attr('title'):$("label[for="+obj.attr('id')+"]").text()):options.inlineInfoText;if((obj.is('input')&&!(obj.val()==""||obj.val()===undefined)&&!((options.caseSensitiveMatch===true&&obj.val()==replacementText)||(obj.val().toLowerCase()==replacementText.toLowerCase())))||(obj.is('textarea')&&(obj.text()!=""))&&!((options.caseSensitiveMatch===true&&obj.text()==replacementText)||(obj.text().toLowerCase()==replacementText.toLowerCase()))){return true;}if(obj.attr('type')=='password'){replaceField(obj,'text',replacementText,replacementText);obj.bind("focus change",function(){replaceField(obj,'password','',replacementText);});}else{addLabel(obj,replacementText);obj.bind("focus",function(event){var target=$(this);if((target.val()=="")||(options.caseSensitiveMatch===true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){removeLabel(target);}}).bind("blur",function(event){var target=$(this);if((target.val()=="")||(options.caseSensitiveMatch===true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){addLabel(target,replacementText);}}).bind("change",function(event){var target=$(this);if((target.val()!="")||(options.caseSensitiveMatch===true&&target.val()!=replacementText)||(target.val().toLowerCase()!=replacementText.toLowerCase())){target.removeClass(options.inlineInfoClass);}});}if(options.blankFieldOnSubmitWhenDefault){blankOnSubmit(obj,replacementText);}});};})(jQuery);